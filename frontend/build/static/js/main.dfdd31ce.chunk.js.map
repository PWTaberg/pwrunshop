{"version":3,"sources":["store.js","reducers/productReducers.js","constants/productConstants.js","reducers/cartReducers.js","constants/cartConstants.js","constants/localStoreConstants.js","reducers/userReducers.js","constants/userConstants.js","reducers/orderReducers.js","constants/orderConstants.js","i18n.js","components/SearchBox.js","actions/userActions.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","components/Loader.js","components/Message.js","components/Paginate.js","components/Meta.js","actions/productActions.js","components/ProductCarousel.js","screens/HomeScreen.js","screens/ProductScreen.js","actions/cartActions.js","screens/CartScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","actions/orderActions.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/ProductListScreen.js","screens/ProductEditScreen.js","screens/OrderListScreen.js","App.js","serviceWorker.js","index.js"],"names":["reducer","combineReducers","productList","state","products","action","type","loading","payload","pages","page","error","productDetails","product","reviews","productDelete","success","productCreate","productUpdate","productReviewCreate","productTopRated","cart","cartItems","shippingAddress","paymentMethod","addedItem","existItem","find","listItem","map","item","filter","cartItem","localStorage","removeItem","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","userList","users","userDelete","userUpdate","orderCreate","order","orderDetails","orderItems","orderPay","orderDeliver","orderMyList","orders","orderList","cartItemsFromStorage","getItem","JSON","parse","userInfoFromStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","resources","en","translation","sv","co","i18n","use","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","SearchBox","history","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","inline","Control","name","onChange","target","value","placeholder","className","Button","variant","getUserDetails","id","dispatch","getState","a","config","headers","Authorization","token","axios","get","data","response","message","Header","useTranslation","useDispatch","useSelector","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","render","Nav","Link","NavDropdown","title","Item","onClick","isAdmin","changeLanguage","countryCode","svg","style","width","height","Footer","Row","Col","Rating","text","color","defaultProps","Product","props","t","Card","_id","Img","src","image","Body","Title","as","Text","rating","numReviews","price","Loader","Spinner","animation","role","margin","display","Message","children","Alert","Paginate","Pagination","Array","keys","x","key","active","Meta","description","keywords","Helmet","content","listProducts","pageNumber","productListResponse","listProductDetails","ProductCarousel","useEffect","console","log","Carousel","pause","Image","alt","fluid","Caption","HomeScreen","match","params","sm","md","lg","xl","ProductScreen","qty","setQty","setRating","comment","setComment","successProductReview","errorProductReview","alert","m","ListGroup","countInStock","updateQty","index","disabled","length","review","createdAt","substring","productId","post","Group","controlId","Label","row","addToCart","setItem","stringify","CartScreen","location","search","Number","split","removeFromCartHandler","removeFromCart","rounded","reduce","acc","toFixed","FormContainer","xs","LoginScreen","email","setEmail","password","setPassword","redirect","login","RegisterScreen","setName","confirmPassword","setConfirmPassword","setMessage","register","ProfileScreen","loadingOrders","errorOrders","put","updateUserProfile","Table","striped","bordered","hover","responsive","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","required","PaymentScreen","method","setMethod","Check","label","checked","PlaceOrderScreen","itemsPrice","shippingPrice","taxPrice","createOrder","OrderScreen","orderId","sdkReady","setSdkReady","loadingPay","successPay","loadingDeliver","successDeliver","addPayPalScript","clientId","script","document","createElement","async","onload","body","appendChild","window","paypal","href","amount","onSuccess","paymentResult","payOrder","deliverOrder","UserListScreen","successDelete","deleteHandler","confirm","delete","deleteUser","UserEditScreen","userId","setIsAdmin","loadingUpdate","errorUpdate","successUpdate","updateUser","ProductListScreen","loadingDelete","errorDelete","loadingCreate","errorCreate","successCreate","createdProduct","deleteProduct","category","brand","ProductEditScreen","setPrice","setImage","setBrand","setCategory","setDescription","setCountInStock","uploading","setUploading","uploadFileHandler","file","files","formData","FormData","append","updateProduct","File","custom","OrderListScreen","App","path","component","exact","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.dfdd31ce.chunk.js","sourcesContent":["import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport {\r\n\tproductListReducer,\r\n\tproductDetailsReducer,\r\n\tproductDeleteReducer,\r\n\tproductCreateReducer,\r\n\tproductUpdateReducer,\r\n\tproductReviewCreateReducer,\r\n\tproductTopRatedReducer,\r\n} from './reducers/productReducers';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport {\r\n\tuserLoginReducer,\r\n\tuserRegisterReducer,\r\n\tuserDetailsReducer,\r\n\tuserUpdateProfileReducer,\r\n\tuserListReducer,\r\n\tuserDeleteReducer,\r\n\tuserUpdateReducer,\r\n} from './reducers/userReducers';\r\nimport {\r\n\torderCreateReducer,\r\n\torderDetailsReducer,\r\n\torderPayReducer,\r\n\torderDeliverReducer,\r\n\torderMyListReducer,\r\n\torderListReducer,\r\n} from './reducers/orderReducers';\r\n\r\n// Reducers\r\nconst reducer = combineReducers({\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tproductDelete: productDeleteReducer,\r\n\tproductCreate: productCreateReducer,\r\n\tproductUpdate: productUpdateReducer,\r\n\tproductReviewCreate: productReviewCreateReducer,\r\n\tproductTopRated: productTopRatedReducer,\r\n\tcart: cartReducer,\r\n\tuserLogin: userLoginReducer,\r\n\tuserRegister: userRegisterReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserUpdateProfile: userUpdateProfileReducer,\r\n\tuserList: userListReducer,\r\n\tuserDelete: userDeleteReducer,\r\n\tuserUpdate: userUpdateReducer,\r\n\torderCreate: orderCreateReducer,\r\n\torderDetails: orderDetailsReducer,\r\n\torderPay: orderPayReducer,\r\n\torderDeliver: orderDeliverReducer,\r\n\torderMyList: orderMyListReducer,\r\n\torderList: orderListReducer,\r\n});\r\n\r\n// Get existing cart from local storage\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems')\r\n\t? JSON.parse(localStorage.getItem('cartItems'))\r\n\t: [];\r\n\r\n// Get existing cart from local storage\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n\t? JSON.parse(localStorage.getItem('userInfo'))\r\n\t: null;\r\n\r\n// Get existing shipping address from local storage\r\nconst shippingAddressFromStorage = localStorage.getItem('shippingAddress')\r\n\t? JSON.parse(localStorage.getItem('shippingAddress'))\r\n\t: {};\r\n\r\n// Get existing payment method from local storage\r\nconst paymentMethodFromStorage = localStorage.getItem('paymentMethod')\r\n\t? JSON.parse(localStorage.getItem('paymentMethod'))\r\n\t: 'PayPal';\r\n\r\n//console.log('store.paymentMethodFromStorage', paymentMethodFromStorage);\r\n\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: cartItemsFromStorage,\r\n\t\tshippingAddress: shippingAddressFromStorage,\r\n\t\tpaymentMethod: paymentMethodFromStorage,\r\n\t},\r\n\tuserLogin: { userInfo: userInfoFromStorage },\r\n};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DETAILS_RESET,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_CREATE_RESET,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_RESET,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n} from '../constants/productConstants';\r\n\r\n// Handle state\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_LIST_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\t/*\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload,\r\n\t\t\t};\r\n\t\t\t*/\r\n\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload.products,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t};\r\n\r\n\t\tcase PRODUCT_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productDetailsReducer = (\r\n\tstate = { product: { reviews: [] } },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DETAILS_REQUEST:\r\n\t\t\treturn { loading: true, ...state };\r\n\t\tcase PRODUCT_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, product: action.payload };\r\n\t\tcase PRODUCT_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\r\n\t\tcase PRODUCT_DETAILS_RESET:\r\n\t\t\treturn { product: { reviews: [] } };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_DELETE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload };\r\n\t\tcase PRODUCT_CREATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload };\r\n\t\tcase PRODUCT_UPDATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_UPDATE_RESET:\r\n\t\t\treturn { product: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productReviewCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_TOP_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\t\tcase PRODUCT_TOP_SUCCESS:\r\n\t\t\treturn { loading: false, products: action.payload };\r\n\t\tcase PRODUCT_TOP_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\nexport const PRODUCT_DETAILS_RESET = 'PRODUCT_DETAILS_RESET';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST';\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS';\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL';\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET';\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL';\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET';\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_UCREATE_REVIEW_REQUEST';\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = 'PRODUCT_CREATE_REVIEW_FAIL';\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET';\r\n\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST';\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS';\r\nexport const PRODUCT_TOP_FAIL = 'PRODUCT_TOP_FAIL';\r\n","import {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_RESET,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_REMOVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n\t//\tCART_REMOVE_PAYMENT_METHOD,\r\n} from '../constants/cartConstants';\r\n\r\nimport {\r\n\tCART_ITEMS,\r\n\tSHIPPING_ADDRESS,\r\n\t//\tPAYMENT_METHOD,\r\n} from '../constants/localStoreConstants';\r\n\r\nexport const cartReducer = (\r\n\tstate = { cartItems: [], shippingAddress: {}, paymentMethod: 'PayPal' },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\tconst addedItem = action.payload;\r\n\t\t\tconst existItem = state.cartItems.find(\r\n\t\t\t\t(listItem) => listItem.product === addedItem.product\r\n\t\t\t);\r\n\r\n\t\t\tif (existItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map((item) =>\r\n\t\t\t\t\t\titem.product === existItem.product ? addedItem : item\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: [...state.cartItems, addedItem],\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: state.cartItems.filter(\r\n\t\t\t\t\t(cartItem) => cartItem.product !== action.payload\r\n\t\t\t\t),\r\n\t\t\t};\r\n\r\n\t\tcase CART_RESET:\r\n\t\t\tlocalStorage.removeItem(CART_ITEMS);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: [],\r\n\t\t\t};\r\n\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase CART_REMOVE_SHIPPING_ADDRESS:\r\n\t\t\tlocalStorage.removeItem(SHIPPING_ADDRESS);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: {},\r\n\t\t\t};\r\n\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t};\r\n\t\t/*\r\n\t\tcase CART_REMOVE_PAYMENT_METHOD:\r\n\t\t\tlocalStorage.removeItem(PAYMENT_METHOD);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: 'PayPal',\r\n\t\t\t};\r\n*/\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_RESET = 'CART_RESET';\r\n\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_REMOVE_SHIPPING_ADDRESS = 'CART_REMOVE_SHIPPING_ADDRESS';\r\n\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\nexport const CART_REMOVE_PAYMENT_METHOD = 'CART_REMOVE_PAYMENT_METHOD';\r\n","export const CART_ITEMS = 'cartItems';\r\nexport const SHIPPING_ADDRESS = 'shippingAddress';\r\nexport const PAYMENT_METHOD = 'paymentMethod';\r\nexport const USER_INFO = 'userInfo';\r\n","import {\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_UPDATE_PROFILE_RESET,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_UPDATE_RESET,\r\n} from '../constants/userConstants';\r\n\r\n// Handle state\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_LOGIN_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_REGISTER_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_REGISTER_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_REGISTER_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload };\r\n\t\tcase USER_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_PROFILE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_UPDATE_PROFILE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\r\n\t\tcase USER_UPDATE_PROFILE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\r\n\t\t// BUG FIX\r\n\t\tcase USER_UPDATE_PROFILE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LIST_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, users: action.payload };\r\n\t\tcase USER_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LIST_RESET:\r\n\t\t\treturn { users: [] };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_DELETE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userUpdateReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_UPDATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_UPDATE_RESET:\r\n\t\t\treturn { user: {} };\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL';\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST';\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS';\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL';\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET';\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST';\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS';\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL';\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET';\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS';\r\nexport const USER_DELETE_FAIL = 'USER_DELETE_FAIL';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET';\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_RESET,\r\n\tORDER_MY_LIST_REQUEST,\r\n\tORDER_MY_LIST_SUCCESS,\r\n\tORDER_MY_LIST_FAIL,\r\n\tORDER_MY_LIST_RESET,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_LIST_FAIL,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants';\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_CREATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const orderDetailsReducer = (\r\n\tstate = { loading: true, orderItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DETAILS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_PAY_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DELIVER_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderMyListReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_MY_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_MY_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_MY_LIST_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_MY_LIST_RESET:\r\n\t\t\treturn { orders: [] };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderListReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_MY_LIST_REQUEST = 'ORDER_MY_LIST_REQUEST';\r\nexport const ORDER_MY_LIST_SUCCESS = 'ORDER_MY_LIST_SUCCESS';\r\nexport const ORDER_MY_LIST_FAIL = 'ORDER_MY_LIST_FAIL';\r\nexport const ORDER_MY_LIST_RESET = 'ORDER_MY_LIST_RESET';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n//export const ORDER_LIST_RESET = 'ORDER_LIST_RESET';\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\r\nexport const ORDER_DELIVER_FAIL = 'ORDER_DELIVER_FAIL';\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_FAIL';\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport translationEN from './locales/en/translationEN.json';\r\nimport translationSV from './locales/sv/translationSV.json';\r\nimport translationCO from './locales/co/translationCO.json';\r\n\r\n// the translations\r\n// (tip move them in a JSON file and import them)\r\nconst resources = {\r\n\ten: {\r\n\t\ttranslation: translationEN,\r\n\t},\r\n\tsv: {\r\n\t\ttranslation: translationSV,\r\n\t},\r\n\tco: {\r\n\t\ttranslation: translationCO,\r\n\t},\r\n};\r\n\r\ni18n.use(initReactI18next) // passes i18n down to react-i18next\r\n\t.init({\r\n\t\tresources,\r\n\t\tlng: 'en',\r\n\r\n\t\tkeySeparator: false, // we do not use keys in form messages.welcome\r\n\r\n\t\tinterpolation: {\r\n\t\t\tescapeValue: false, // react already safes from xss\r\n\t\t},\r\n\t});\r\n\r\nexport default i18n;\r\n","import React, { useState } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\n\r\nconst SearchBox = ({ history }) => {\r\n\tconst [keyword, setKeyword] = useState('');\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (keyword.trim()) {\r\n\t\t\thistory.push(`/search/${keyword}`);\r\n\t\t} else {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submitHandler} inline>\r\n\t\t\t<Form.Control\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='q'\r\n\t\t\t\tonChange={(e) => setKeyword(e.target.value)}\r\n\t\t\t\tplaceholder='Search Products ...'\r\n\t\t\t\tclassName='mr-sm-2 ml-sm-5'\r\n\t\t\t></Form.Control>\r\n\t\t\t<Button type='submit' variant='outline-success' className='p-2'>\r\n\t\t\t\tSearch\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default SearchBox;\r\n","import axios from 'axios';\r\nimport {\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n} from '../constants/userConstants';\r\n\r\nimport { ORDER_MY_LIST_RESET } from '../constants/orderConstants';\r\n\r\nimport {\r\n\tCART_REMOVE_SHIPPING_ADDRESS,\r\n\t//CART_REMOVE_PAYMENT_METHOD,\r\n\tCART_RESET,\r\n} from '../constants/cartConstants';\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'Application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/login',\r\n\t\t\t{ email, password },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n\tlocalStorage.removeItem('userInfo');\r\n\tdispatch({ type: USER_LOGOUT });\r\n\tdispatch({ type: USER_DETAILS_RESET });\r\n\tdispatch({ type: USER_LIST_RESET });\r\n\tdispatch({ type: ORDER_MY_LIST_RESET });\r\n\tdispatch({ type: CART_REMOVE_SHIPPING_ADDRESS });\r\n\t//dispatch({ type: CART_REMOVE_PAYMENT_METHOD });\r\n\tdispatch({ type: CART_RESET });\r\n};\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'Application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users',\r\n\t\t\t{ name, email, password },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\t// Register\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\t// Login\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t/*\r\n\t\t// Man kan bryta upp det i två steg\r\n\t\tconst { userLogin } = getState();\r\n\t\tconst { userInfo } = userLogin;\r\n\t\t*/\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'Application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/users/${id}`, config);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'Application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(`/api/users/profile`, user, config);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\t// BUG FIX\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t\t// END BUG FIX\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/users`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tawait axios.delete(`/api/users/${id}`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_SUCCESS,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/users/${user._id}`,\r\n\t\t\tuser,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_SUCCESS,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React from 'react';\r\n//import '../i18n';\r\nimport { Route } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Navbar, Nav, Container, NavDropdown, Button } from 'react-bootstrap';\r\nimport SearchBox from './SearchBox';\r\nimport { logout } from '../actions/userActions';\r\nimport i18n from '../i18n';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ReactCountryFlag from 'react-country-flag';\r\n//import i18n from '../i18n';\r\n\r\nconst Header = () => {\r\n\tconst { i18n } = useTranslation();\r\n\tconst dispatch = useDispatch();\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\tconst logoutHandler = () => {\r\n\t\tdispatch(logout());\r\n\t};\r\n\t/*\r\n\tconst changeLanguage = (ln) => {\r\n\t\t//\tconsole.log('new language', ln);\r\n\r\n\t\treturn () => {\r\n\t\t\tconsole.log('change to ', ln);\r\n\t\t\t//i18n.changeLanguage(ln);\r\n\t\t};\r\n\t};\r\n\t*/\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<Navbar bg='dark' variant='dark' expand='lg' collapseOnSelect>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<LinkContainer to='/'>\r\n\t\t\t\t\t\t<Navbar.Brand>The Runners Shop</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n\t\t\t\t\t<Navbar.Collapse id='basic-navbar-nav'>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\trender={({ history }) => (\r\n\t\t\t\t\t\t\t\t<SearchBox history={history} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Nav className='ml-auto'>\r\n\t\t\t\t\t\t\t<LinkContainer to='/cart'>\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-shopping-cart'></i>{' '}\r\n\t\t\t\t\t\t\t\t\tCart\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<NavDropdown\r\n\t\t\t\t\t\t\t\t\ttitle={userInfo.name}\r\n\t\t\t\t\t\t\t\t\tid='username'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/profile'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={logoutHandler}>\r\n\t\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-user'></i>Sign In\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<NavDropdown title='Admin' id='adminMenu'>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/userlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tUsers\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/productlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tProducts\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/orderlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tOrders\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<NavDropdown title='Language' id='languageMenu'>\r\n\t\t\t\t\t\t\t\t<NavDropdown.Item\r\n\t\t\t\t\t\t\t\t\tonClick={() => i18n.changeLanguage('en')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ReactCountryFlag\r\n\t\t\t\t\t\t\t\t\t\tcountryCode='US'\r\n\t\t\t\t\t\t\t\t\t\tsvg\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '2em',\r\n\t\t\t\t\t\t\t\t\t\t\theight: '2em',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttitle='US'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\r\n\t\t\t\t\t\t\t\t<NavDropdown.Item\r\n\t\t\t\t\t\t\t\t\tonClick={() => i18n.changeLanguage('sv')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ReactCountryFlag\r\n\t\t\t\t\t\t\t\t\t\tcountryCode='SE'\r\n\t\t\t\t\t\t\t\t\t\tsvg\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '2em',\r\n\t\t\t\t\t\t\t\t\t\t\theight: '2em',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttitle='SE'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t<NavDropdown.Item\r\n\t\t\t\t\t\t\t\t\tonClick={() => i18n.changeLanguage('co')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ReactCountryFlag\r\n\t\t\t\t\t\t\t\t\t\tcountryCode='CO'\r\n\t\t\t\t\t\t\t\t\t\tsvg\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '2em',\r\n\t\t\t\t\t\t\t\t\t\t\theight: '2em',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttitle='CO'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <Container>\r\n        <Row>\r\n          <Col className='text-center py-3'>\r\n            Copyright &copy; The I Run For Good Shop\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n\treturn (\r\n\t\t<div className='rating'>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 1\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 0.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 2\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 1.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 3\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 2.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 4\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 3.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 5\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 4.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}\r\n\t\t\t\t></i>\r\n\t\t\t</span>\r\n\t\t\t<span>{text && text}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nRating.defaultProps = {\r\n\tcolor: '#f8E825',\r\n\tvalue: 0,\r\n};\r\n\r\nRating.propTypes = {\r\n\tvalue: PropTypes.number.isRequired,\r\n\ttext: PropTypes.string.isRequired,\r\n\tcolor: PropTypes.string,\r\n};\r\n\r\nexport default Rating;\r\n","import React from 'react';\r\n//import '../i18n';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\nimport Rating from './Rating';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n//const Product = ({ product }) => {\r\nconst Product = (props) => {\r\n\tconst { t } = useTranslation();\r\n\r\n\tconst { product } = props;\r\n\treturn (\r\n\t\t<Card className='my-3 p-3 rounded'>\r\n\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t<Card.Img src={product.image} variant='top' />\r\n\t\t\t</Link>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t<Card.Title as='div'>\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Card.Text as='div'>\r\n\t\t\t\t\t<Rating\r\n\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\ttext={`${product.numReviews} ${t('reviews')}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card.Text>\r\n\t\t\t\t<Card.Text as='h3'>${product.price} </Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<Spinner\r\n\t\t\tanimation='border'\r\n\t\t\trole='status'\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '100px',\r\n\t\t\t\theight: '100px',\r\n\t\t\t\tmargin: 'auto',\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<span className='sr-only'>Loading...</span>\r\n\t\t</Spinner>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst Message = ({ variant, children }) => {\r\n\treturn <Alert variant={variant}>{children}</Alert>;\r\n};\r\n\r\nMessage.defaultProps = {\r\n\tvariant: 'info',\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst Paginate = ({ pages, page, isAdmin = false, keyword = '' }) => {\r\n\treturn (\r\n\t\tpages > 1 && (\r\n\t\t\t<Pagination>\r\n\t\t\t\t{[...Array(pages).keys()].map((x) => (\r\n\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\tkey={x + 1}\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t!isAdmin\r\n\t\t\t\t\t\t\t\t? keyword\r\n\t\t\t\t\t\t\t\t\t? `/search/${keyword}/page/${x + 1}`\r\n\t\t\t\t\t\t\t\t\t: `/page/${x + 1}`\r\n\t\t\t\t\t\t\t\t: `/admin/productlist/${x + 1}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Pagination.Item active={x + 1 === page}>\r\n\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t</Pagination.Item>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t))}\r\n\t\t\t</Pagination>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport default Paginate;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst Meta = ({ title, description, keywords }) => {\r\n\treturn (\r\n\t\t<Helmet>\r\n\t\t\t<title>{title}</title>\r\n\t\t\t<meta name='description' content={description} />\r\n\t\t\t<meta name='keywords' content={keywords} />\r\n\t\t</Helmet>\r\n\t);\r\n};\r\n\r\nMeta.defaultProps = {\r\n\ttitle: 'Welcome to Runners Shop',\r\n\tdescription: 'Everything you need as a runner',\r\n\tkeywords: 'running clothes, running shoes',\r\n};\r\nexport default Meta;\r\n","import axios from 'axios';\r\nimport {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n} from '../constants/productConstants';\r\n\r\n// Function within a function (redux-thunk)\r\n//export const listProducts = (keyword = '', pageNumber = '') => async (\r\n\r\nexport const listProducts = (keyword = '', pageNumber = '') => async (\r\n\tdispatch\r\n) => {\r\n\ttry {\r\n\t\t// Send the request\r\n\t\tdispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n\t\tconst productListResponse = await axios.get(\r\n\t\t\t`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n\t\t);\r\n\t\tconst { data } = productListResponse;\r\n\r\n\t\t//\tconsole.log('producrActions.productListRespone', productListResponse);\r\n\t\t//\tconsole.log('data', data);\r\n\t\t/* ** */\r\n\r\n\t\t// Request was success\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\t// Send the request\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\r\n\t\t// Request was success\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\t//console.log('productAction.listProductDetails.error', error);\r\n\t\t//console.log('error.response', error.response);\r\n\t\t//console.log('error.message', error.message);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tawait axios.delete(`/api/products/${id}`, config);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_SUCCESS,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(`/api/products`, {}, config);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'Application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/products/${product._id}`,\r\n\t\t\tproduct,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProductReview = (productId, review) => async (\r\n\tdispatch,\r\n\tgetState\r\n) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'Application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tawait axios.post(`/api/products/${productId}/reviews`, review, config);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_SUCCESS,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n// Function within a function (redux-thunk)\r\n//export const listProducts = (keyword = '', pageNumber = '') => async (\r\n\r\nexport const listTopProducts = () => async (dispatch) => {\r\n\tconsole.log('listTopProduct.GET');\r\n\ttry {\r\n\t\t// Send the request\r\n\t\tdispatch({ type: PRODUCT_TOP_REQUEST });\r\n\r\n\t\tconst { data } = await axios.get(`/api/products/top`);\r\n\t\tconsole.log('listTopProduct.GET data', data);\r\n\r\n\t\t//\tconsole.log('producrActions.productListRespone', productListResponse);\r\n\t\t//\tconsole.log('data', data);\r\n\t\t/* ** */\r\n\r\n\t\t// Request was success\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Carousel, Image } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Loader from './Loader';\r\nimport Message from './Message';\r\nimport { listTopProducts } from '../actions/productActions';\r\n\r\nconst ProductCarousel = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productTopRated = useSelector((state) => state.productTopRated);\r\n\tconst { products, loading, error } = productTopRated;\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('ProductCarousel.listTopProducts');\r\n\t\tdispatch(listTopProducts());\r\n\t}, [dispatch]);\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant='danger'>{error}</Message>\r\n\t) : (\r\n\t\t<Carousel pause='hover' className='bg-dark'>\r\n\t\t\t{products.map((product) => (\r\n\t\t\t\t<Carousel.Item key={product._id}>\r\n\t\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t<Carousel.Caption className='carousel-caption'>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t{product.name} (${product.price})\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t))}\r\n\t\t</Carousel>\r\n\t);\r\n};\r\n\r\nexport default ProductCarousel;\r\n","import React, { useEffect } from 'react';\r\n//import '../i18n';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport Product from '../components/Product';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport Meta from '../components/Meta';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport ProductCarousel from '../components/ProductCarousel';\r\n\r\nimport { listProducts } from '../actions/productActions';\r\n\r\nconst HomeScreen = ({ match }) => {\r\n\tconst { t, i18n } = useTranslation();\r\n\t//i18n.changeLanguage('sv');\r\n\tconst keyword = match.params.keyword;\r\n\r\n\tconst pageNumber = match.params.pageNumber || 1;\r\n\r\n\t// console.log('HomeScreen.props', props);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productList = useSelector((state) => state.productList);\r\n\t// destructure from productList state\r\n\tconst { loading, error, products, page, pages } = productList;\r\n\r\n\t// run this everytime the screen is loaded\r\n\tuseEffect(() => {\r\n\t\t// call the action listProducts\r\n\t\tdispatch(listProducts(keyword, pageNumber));\r\n\t}, [dispatch, keyword, pageNumber]);\r\n\r\n\t/*\r\n\tlet isLoading = true;\r\n\tif (!loading || loading === true) {\r\n\t\tisLoading = true;\r\n\t} else {\r\n\t\tisLoading = false;\r\n\t}\r\n\t*/\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Meta />\r\n\t\t\t{!keyword ? (\r\n\t\t\t\t<ProductCarousel />\r\n\t\t\t) : (\r\n\t\t\t\t<Link to='/' className='btn btn-light'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Link>\r\n\t\t\t)}\r\n\t\t\t<h1>{t('latestProducts')}</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{products.map((product) => (\r\n\t\t\t\t\t\t\t<Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n\t\t\t\t\t\t\t\t<Product product={product} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Paginate\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tkeyword={keyword ? keyword : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default HomeScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tImage,\r\n\tListGroup,\r\n\tCard,\r\n\tButton,\r\n\tForm,\r\n} from 'react-bootstrap';\r\nimport Rating from '../components/Rating';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Meta from '../components/Meta';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport {\r\n\tlistProductDetails,\r\n\tcreateProductReview,\r\n} from '../actions/productActions';\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\r\n\r\n//const ProductScreen = ({ history, match }) => {\r\nconst ProductScreen = (props) => {\r\n\tconst { history, match } = props;\r\n\r\n\tconst { t } = useTranslation();\r\n\r\n\t//console.log('ProductScreen.props: ', props);\r\n\t//console.log('match.params.id', match.params.id);\r\n\r\n\tconst [qty, setQty] = useState(1);\r\n\r\n\tconst [rating, setRating] = useState(0);\r\n\tconst [comment, setComment] = useState('');\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, error, product } = productDetails;\r\n\r\n\tconst productReviewCreate = useSelector(\r\n\t\t(state) => state.productReviewCreate\r\n\t);\r\n\tconst {\r\n\t\tsuccess: successProductReview,\r\n\t\terror: errorProductReview,\r\n\t} = productReviewCreate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successProductReview) {\r\n\t\t\talert('Review submitted');\r\n\t\t\tsetRating(0);\r\n\t\t\tsetComment('');\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n\t\t}\r\n\t\t// call the action listProductDetailss\r\n\t\tdispatch(listProductDetails(match.params.id));\r\n\t}, [dispatch, match, successProductReview]);\r\n\r\n\tconst addToCartHandler = () => {\r\n\t\thistory.push(`/cart/${match.params.id}?qty=${qty}`);\r\n\t};\r\n\r\n\tconst updateQty = (e) => {\r\n\t\tsetQty(e.target.value);\r\n\t};\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(createProductReview(match.params.id, { rating, comment }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link className='btn btn-light my-3' to='/'>\r\n\t\t\t\t{t('goBack')}\r\n\t\t\t</Link>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Meta title={product.name} />\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col m={6}>\r\n\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\tsrc={product.image}\r\n\t\t\t\t\t\t\t\talt={product.name}\r\n\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h3>{product.name}</h3>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\t\t\ttext={`${product.numReviews} ${t(\r\n\t\t\t\t\t\t\t\t\t\t\t'reviews'\r\n\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{t('price')}: {product.price} SEK\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{t('description')}: {product.description}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Price:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${product.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Status:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `${t('outOfStock')}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: `${t('inStock')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>Qty</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateQty(e)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...Array(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.countInStock\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).keys(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].map((index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex + 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{index + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={addToCartHandler}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.countInStock === 0\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('addToCart')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<h2>{t('reviews')}</h2>\r\n\t\t\t\t\t\t\t{product.reviews.length === 0 && (\r\n\t\t\t\t\t\t\t\t<Message>{t('noReviews')}</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t{product.reviews.map((review) => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={review._id}>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{review.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={review.rating}\r\n\t\t\t\t\t\t\t\t\t\t\ttext={`${product.numReviews} ${t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'reviews'\r\n\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t{review.createdAt.substring(0, 10)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.comment}</p>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>{t('writeACustomerReview')}</h2>\r\n\t\t\t\t\t\t\t\t\t{errorProductReview && (\r\n\t\t\t\t\t\t\t\t\t\t<Message variant='danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t{errorProductReview}\r\n\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='rating'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('rating')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRating(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('select')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('poor')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('fair')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('good')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='4'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('veryGood')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='5'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('excellent')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='comment'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('comment')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trow='3'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={comment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetComment(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('submit')}\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message>\r\n\t\t\t\t\t\t\t\t\t\t\tPlease\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to='/login'> sign in</Link>to\r\n\t\t\t\t\t\t\t\t\t\t\twrite a review{' '}\r\n\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductScreen;\r\n","import axios from 'axios';\r\nimport {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n} from '../constants/cartConstants';\r\n\r\nimport {\r\n\tCART_ITEMS,\r\n\tSHIPPING_ADDRESS,\r\n\tPAYMENT_METHOD,\r\n} from '../constants/localStoreConstants';\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\tdispatch({\r\n\t\ttype: CART_ADD_ITEM,\r\n\t\tpayload: {\r\n\t\t\tproduct: data._id,\r\n\t\t\tname: data.name,\r\n\t\t\timage: data.image,\r\n\t\t\tprice: data.price,\r\n\t\t\tcountInStock: data.countInStock,\r\n\t\t\tqty,\r\n\t\t},\r\n\t});\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'cartItems',\r\n\t\tJSON.stringify(getState().cart.cartItems)\r\n\t);\r\n};\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n\tdispatch({\r\n\t\ttype: CART_REMOVE_ITEM,\r\n\t\tpayload: id,\r\n\t});\r\n\r\n\tlocalStorage.setItem(CART_ITEMS, JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\r\n\t\tpayload: data,\r\n\t});\r\n\r\n\tlocalStorage.setItem(SHIPPING_ADDRESS, JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_PAYMENT_METHOD,\r\n\t\tpayload: data,\r\n\t});\r\n\r\n\t// paymentMethod: 'PayPal'\r\n\tlocalStorage.setItem(PAYMENT_METHOD, JSON.stringify(data));\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tListGroup,\r\n\tImage,\r\n\tForm,\r\n\tButton,\r\n\tCard,\r\n} from 'react-bootstrap';\r\nimport Message from '../components/Message';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n\tconst productId = match.params.id;\r\n\r\n\t// get the qty number from /cart/12321?qty=4\r\n\t// location part of URL is ?qty=4, in string format\r\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems } = cart;\r\n\r\n\tuseEffect(() => {\r\n\t\t// only if a product is selected, do we wat to add to the cart\r\n\t\tif (productId) {\r\n\t\t\tdispatch(addToCart(productId, qty));\r\n\t\t}\r\n\t}, [dispatch, productId, qty]);\r\n\r\n\tconst removeFromCartHandler = (id) => {\r\n\t\tdispatch(removeFromCart(id));\r\n\t\thistory.push('/cart');\r\n\t};\r\n\r\n\tconst checkOutHandler = () => {\r\n\t\thistory.push('/login?redirect=shipping');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t<Message>\r\n\t\t\t\t\t\tYour cart is empty <Link to='/'>Go Back</Link>\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t{cartItems.map((cartItem) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={cartItem.product}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={cartItem.image}\r\n\t\t\t\t\t\t\t\t\t\t\talt={cartItem.name}\r\n\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t></Image>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/product/${cartItem.product}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{cartItem.name}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>${cartItem.price}</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={cartItem.qty}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taddToCart(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartItem.product,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{[\r\n\t\t\t\t\t\t\t\t\t\t\t\t...Array(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcartItem.countInStock\r\n\t\t\t\t\t\t\t\t\t\t\t\t).keys(),\r\n\t\t\t\t\t\t\t\t\t\t\t].map((index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={index + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{index + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='light'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tremoveFromCartHandler(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcartItem.product\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col md={4}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<ListGroup.Item variant='flush'>\r\n\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\tSubtotal (\r\n\t\t\t\t\t\t\t{cartItems.reduce(\r\n\t\t\t\t\t\t\t\t(acc, cartItem) => acc + cartItem.qty,\r\n\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t) items\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t$\r\n\t\t\t\t\t\t{cartItems\r\n\t\t\t\t\t\t\t.reduce(\r\n\t\t\t\t\t\t\t\t(acc, cartItem) =>\r\n\t\t\t\t\t\t\t\t\tacc + cartItem.price * cartItem.qty,\r\n\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.toFixed(2)}\r\n\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\tdisabled={cartItems.length === 0}\r\n\t\t\t\t\t\t\tonClick={checkOutHandler}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tProceed to Checkout\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default CartScreen;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className='justify-content-md-center'>\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default FormContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\n\r\nimport { login } from '../actions/userActions';\r\n\r\nfunction LoginScreen({ location, history }) {\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { loading, error, userInfo } = userLogin;\r\n\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\thistory.push(redirect);\r\n\t\t}\r\n\t}, [history, userInfo, redirect]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tdispatch(login(email, password));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign In</h1>\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<Row className='py-3'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tNew customer ?{' '}\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\tredirect\r\n\t\t\t\t\t\t\t\t? `/register/redirect=${redirect}`\r\n\t\t\t\t\t\t\t\t: `/register`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRegister\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t);\r\n}\r\n\r\nexport default LoginScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\n\r\nimport { register } from '../actions/userActions';\r\n\r\nfunction RegisterScreen({ location, history }) {\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState(null);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userRegister = useSelector((state) => state.userRegister);\r\n\tconst { loading, error, userInfo } = userRegister;\r\n\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\thistory.push(redirect);\r\n\t\t}\r\n\t}, [history, userInfo, redirect]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match');\r\n\t\t} else {\r\n\t\t\tdispatch(register(name, email, password));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign Up</h1>\r\n\t\t\t{message && <Message variant='danger'>{message}</Message>}\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='confirmPassword'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Confirm password'\r\n\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\tonChange={(e) => setConfirmPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<Row className='py-3'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tHave an account ?{' '}\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={redirect ? `/login/redirect=${redirect}` : `/login`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t);\r\n}\r\n\r\nexport default RegisterScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Button, Row, Col, Table } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\n\r\nimport { getUserDetails, updateUserProfile } from '../actions/userActions';\r\nimport { listMyOrders } from '../actions/orderActions';\r\n\r\n// BUG FIX\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants';\r\n\r\nfunction ProfileScreen({ location, history }) {\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState(null);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { loading, error, user } = userDetails;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\t// BUG FIX - make sure success is included\r\n\tconst userUpdateProfile = useSelector((state) => state.userUpdateProfile);\r\n\tconst { success } = userUpdateProfile;\r\n\r\n\tconst orderMyList = useSelector((state) => state.orderMyList);\r\n\tconst { loading: loadingOrders, error: errorOrders, orders } = orderMyList;\r\n\r\n\tuseEffect(() => {\r\n\t\t// if not logged in -> log in\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push('/login');\r\n\t\t} else {\r\n\t\t\t// BUG FIX\r\n\t\t\tif (!user || !user.name || success) {\r\n\t\t\t\t// 'profile => /api/users/profile in getUserDetails\r\n\r\n\t\t\t\t// BUG FIX\r\n\t\t\t\tdispatch({ type: USER_UPDATE_PROFILE_RESET });\r\n\t\t\t\tdispatch(getUserDetails('profile'));\r\n\t\t\t\tdispatch(listMyOrders());\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// BUG FIX - orders maybe not needed\r\n\t}, [dispatch, history, userInfo, user, success, orders]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match');\r\n\t\t} else {\r\n\t\t\tdispatch(\r\n\t\t\t\t// Id from user, the rest from state\r\n\t\t\t\tupdateUserProfile({ id: user._id, name, email, password })\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={3}>\r\n\t\t\t\t<h2>User Profile</h2>\r\n\t\t\t\t{message && <Message variant='danger'>{message}</Message>}\r\n\t\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t\t{success && (\r\n\t\t\t\t\t<Message variant='success'>Profile Updated</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='name'\r\n\t\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='confirmPassword'>\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tplaceholder='Confirm password'\r\n\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\tonChange={(e) => setConfirmPassword(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={9}>\r\n\t\t\t\t<h2>My orders</h2>\r\n\t\t\t\t{loadingOrders ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorOrders ? (\r\n\t\t\t\t\t<Message variant='danger'>{errorOrders}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstriped\r\n\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\thover\r\n\t\t\t\t\t\tresponsive\r\n\t\t\t\t\t\tclassName='table-sm'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{orders.map((order) => (\r\n\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\r\n\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\r\n\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/order/${order._id}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='light'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n}\r\n\r\nexport default ProfileScreen;\r\n","import axios from 'axios';\r\nimport {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_MY_LIST_REQUEST,\r\n\tORDER_MY_LIST_SUCCESS,\r\n\tORDER_MY_LIST_FAIL,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_LIST_FAIL,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n} from '../constants/orderConstants';\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'Application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(`/api/orders`, order, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getOrderDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/${id}`, config);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const payOrder = (orderId, paymentResult) => async (\r\n\tdispatch,\r\n\tgetState\r\n) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/orders/${orderId}/pay`,\r\n\t\t\tpaymentResult,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deliverOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/orders/${order._id}/delivered`,\r\n\t\t\t{},\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_MY_LIST_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/myorders`, config);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_MY_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_MY_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_REQUEST,\r\n\t\t});\r\n\r\n\t\t// testa bryta upp\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders`, config);\r\n\r\n\t\t// get details\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Request was a failure\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst CheckoutSteps = (props) => {\r\n\tconst { step1, step2, step3, step4 } = props;\r\n\r\n\treturn (\r\n\t\t<Nav className='justify-content-center mb-4'>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t<Nav.Link>Sign In</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Sign In</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to='/shipping'>\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to='/payment'>\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to='/placeorder'>\r\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t</Nav>\r\n\t);\r\n};\r\n\r\nexport default CheckoutSteps;\r\n","import React, { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FormContainer from '../components/FormContainer';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\n\r\nconst ShippingScreen = ({ history }) => {\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { shippingAddress } = cart;\r\n\r\n\tconst [address, setAddress] = useState(shippingAddress.address);\r\n\tconst [city, setCity] = useState(shippingAddress.city);\r\n\tconst [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n\tconst [country, setCountry] = useState(shippingAddress.country);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(saveShippingAddress({ address, city, postalCode, country }));\r\n\t\thistory.push('/payment');\r\n\t};\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 />\r\n\t\t\t<h1>Shipping</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId='address'>\r\n\t\t\t\t\t<Form.Label>Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter address'\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='city'>\r\n\t\t\t\t\t<Form.Label>City</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter city'\r\n\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='postalCode'>\r\n\t\t\t\t\t<Form.Label>Postal Code</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter postal code'\r\n\t\t\t\t\t\tvalue={postalCode}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setPostalCode(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='country'>\r\n\t\t\t\t\t<Form.Label>Country</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter country'\r\n\t\t\t\t\t\tvalue={country}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setCountry(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default ShippingScreen;\r\n","import React, { useState } from 'react';\r\nimport { Form, Button, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FormContainer from '../components/FormContainer';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n\tconst cart = useSelector((state) => state.cart);\r\n\r\n\tconst { shippingAddress, paymentMethod } = cart;\r\n\r\n\tif (!shippingAddress) {\r\n\t\thistory.push('/shipping');\r\n\t}\r\n\r\n\t//const [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\tconst [method, setMethod] = useState(paymentMethod);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\t//dispatch(savePaymentMethod(paymentMethod));\r\n\t\tdispatch(savePaymentMethod(method));\r\n\r\n\t\thistory.push('/placeorder');\r\n\t};\r\n\t/*\r\nchecked={method === 'PayPal' ? true : false}\r\n\r\nchecked={method === 'Stripe' ? true : false}\t\t\t\r\n\r\n*/\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 step3 />\r\n\t\t\t<h1>Payment Method</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label as='legend'>Select Method</Form.Label>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\tlabel='PayPal or Credit Card'\r\n\t\t\t\t\t\t\tid='PayPal'\r\n\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\tvalue='PayPal'\r\n\t\t\t\t\t\t\tchecked={method === 'PayPal' ? true : false}\r\n\t\t\t\t\t\t\tonChange={(e) => setMethod(e.target.value)}\r\n\t\t\t\t\t\t></Form.Check>\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\tlabel='Stripe'\r\n\t\t\t\t\t\t\tid='Stripe'\r\n\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\tvalue='Stripe'\r\n\t\t\t\t\t\t\tchecked={method === 'Stripe' ? true : false}\r\n\t\t\t\t\t\t\tonChange={(e) => setMethod(e.target.value)}\r\n\t\t\t\t\t\t></Form.Check>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default PaymentScreen;\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { createOrder } from '../actions/orderActions';\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst cart = useSelector((state) => state.cart);\r\n\r\n\t// Calculate prices\r\n\tcart.itemsPrice = cart.cartItems\r\n\t\t.reduce((acc, item) => acc + item.price * item.qty, 0)\r\n\t\t.toFixed(2);\r\n\r\n\tcart.shippingPrice = (cart.itemsPrice > 100 ? 0 : 100).toFixed(2);\r\n\r\n\tconst tax = 0.25; // moms ska vara inklusive på items och shipping\r\n\tcart.taxPrice = Number(tax * cart.itemsPrice).toFixed(2);\r\n\r\n\t/*\r\n\tMaybe not needed\r\n\tconst addDecimals = (num) => {\r\n\t\treturn (Math.round(num * 100) / 100).toFixed(2);\r\n\t};\r\n\tcart.taxPrice = addDecimals(Number((moms * cart.itemsPrice).toFixed(2)));\r\n    */\r\n\r\n\tcart.totalPrice = (\r\n\t\tNumber(cart.itemsPrice) +\r\n\t\tNumber(cart.shippingPrice) +\r\n\t\tNumber(cart.taxPrice)\r\n\t).toFixed(2);\r\n\r\n\tconst orderCreate = useSelector((state) => state.orderCreate);\r\n\tconst { order, success, error } = orderCreate;\r\n\r\n\tuseEffect(() => {\r\n\t\t// if (success && order)\r\n\t\tif (success && order) {\r\n\t\t\thistory.push(`/order/${order._id}`);\r\n\t\t}\r\n\r\n\t\t// [history, success, order]\r\n\t\t// eslint-disable-next-line\r\n\t}, [history, success]);\r\n\r\n\tconst placeOrderHandler = () => {\r\n\t\tdispatch(\r\n\t\t\tcreateOrder({\r\n\t\t\t\torderItems: cart.cartItems,\r\n\t\t\t\tshippingAddress: cart.shippingAddress,\r\n\t\t\t\tpaymentMethod: cart.paymentMethod,\r\n\t\t\t\titemsPrice: cart.itemsPrice,\r\n\t\t\t\tshippingPrice: cart.shippingPrice,\r\n\t\t\t\ttaxPrice: cart.taxPrice,\r\n\t\t\t\ttotalPrice: cart.totalPrice,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CheckoutSteps step1 step2 step3 step4 />\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.address},{' '}\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.city},{' '}\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{cart.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{cart.cartItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message>Your cart is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t{cart.cartItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/product/${item.product}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x {item.price} =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summery</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\t\tdisabled={cart.cartItems === 0}\r\n\t\t\t\t\t\t\t\t\tonClick={placeOrderHandler}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PlaceOrderScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport {\r\n\tgetOrderDetails,\r\n\tpayOrder,\r\n\tdeliverOrder,\r\n} from '../actions/orderActions';\r\nimport {\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants';\r\n\r\nconst OrderScreen = ({ match, history }) => {\r\n\tconst orderId = match.params.id;\r\n\r\n\tconst [sdkReady, setSdkReady] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst orderDetails = useSelector((state) => state.orderDetails);\r\n\tconst { order, loading, error } = orderDetails;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst orderPay = useSelector((state) => state.orderPay);\r\n\tconst { loading: loadingPay, success: successPay } = orderPay;\r\n\r\n\tconst orderDeliver = useSelector((state) => state.orderDeliver);\r\n\tconst { loading: loadingDeliver, success: successDeliver } = orderDeliver;\r\n\r\n\tif (!loading) {\r\n\t\t// Calculate prices\r\n\t\torder.itemsPrice = order.orderItems\r\n\t\t\t.reduce((acc, item) => acc + item.price * item.qty, 0)\r\n\t\t\t.toFixed(2);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push('/login');\r\n\t\t}\r\n\t\tconst addPayPalScript = async () => {\r\n\t\t\tconst { data: clientId } = await axios.get('/api/config/paypal');\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tscript.type = 'text/javascript';\r\n\t\t\tscript.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\r\n\t\t\tscript.async = true;\r\n\t\t\tscript.onload = () => {\r\n\t\t\t\tsetSdkReady(true);\r\n\t\t\t};\r\n\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t};\r\n\r\n\t\t// Get order from db\r\n\t\tif (!order || order._id !== orderId || successPay || successDeliver) {\r\n\t\t\tdispatch({ type: ORDER_PAY_RESET });\r\n\t\t\tdispatch({ type: ORDER_DELIVER_RESET });\r\n\t\t\tdispatch(getOrderDetails(orderId));\r\n\t\t} else if (!order.isPaid) {\r\n\t\t\tif (!window.paypal) {\r\n\t\t\t\taddPayPalScript();\r\n\t\t\t} else {\r\n\t\t\t\tsetSdkReady(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tdispatch,\r\n\t\torder,\r\n\t\torderId,\r\n\t\tsuccessPay,\r\n\t\tsuccessDeliver,\r\n\t\thistory,\r\n\t\tuserInfo,\r\n\t]);\r\n\r\n\tconst successPaymentHandler = (paymentResult) => {\r\n\t\tdispatch(payOrder(orderId, paymentResult));\r\n\t};\r\n\r\n\tconst deliverHandler = () => {\r\n\t\tdispatch(deliverOrder(order));\r\n\t};\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant='danger'>{error}</Message>\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<h1>Order {order._id}</h1>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Name: </strong>\r\n\t\t\t\t\t\t\t\t{order.user.name}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Email: </strong>\r\n\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.email}`}>\r\n\t\t\t\t\t\t\t\t\t{order.user.email}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.address},{' '}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.city},{' '}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\tPaid on {order.deliveredAt.substring(0, 10)}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant='danger'>\r\n\t\t\t\t\t\t\t\t\tNot Delivered{' '}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\tPaid on {order.paidAt.substring(0, 10)}{' '}\r\n\t\t\t\t\t\t\t\t\t{order.paidAt.substring(11, 16)}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant='danger'>Not Paid </Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{order.orderItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message>Order is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t{order.orderItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/product/${item.product}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x {item.price} =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summery</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{userInfo && !order.isPaid && !userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t{!sdkReady ? (\r\n\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PayPalButton\r\n\t\t\t\t\t\t\t\t\t\t\tamount={order.totalPrice}\r\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={successPaymentHandler}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{loadingDeliver && <Loader />}\r\n\t\t\t\t\t\t\t{userInfo &&\r\n\t\t\t\t\t\t\t\tuserInfo.isAdmin &&\r\n\t\t\t\t\t\t\t\torder.isPaid &&\r\n\t\t\t\t\t\t\t\t!order.isDelivered && (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-block'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={deliverHandler}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMark As Delivered\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OrderScreen;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { listUsers, deleteUser } from '../actions/userActions';\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userList = useSelector((state) => state.userList);\r\n\tconst { loading, error, users } = userList;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDelete = useSelector((state) => state.userDelete);\r\n\tconst { success: successDelete } = userDelete;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(listUsers());\r\n\t\t} else {\r\n\t\t\t// Maybe wrong: was /login\r\n\t\t\thistory.push('/login');\r\n\t\t}\r\n\t}, [dispatch, history, userInfo, successDelete]);\r\n\r\n\tconst deleteHandler = (id) => {\r\n\t\tif (window.confirm('Are you sure ?')) {\r\n\t\t\tdispatch(deleteUser(id));\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t<th>EMAIL</th>\r\n\t\t\t\t\t\t\t<th>ADMIN</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{users.map((user) => (\r\n\t\t\t\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t\t\t\t<td>{user._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<a href={`mailto:${user.email}`}>\r\n\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-check'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\r\n\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\r\n\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\tto={`/admin/user/${user._id}/edit`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='light'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(user._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserListScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { getUserDetails, updateUser } from '../actions/userActions';\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\r\n\r\nfunction UserEditScreen({ match, history }) {\r\n\tconst userId = match.params.id;\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [isAdmin, setIsAdmin] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { loading, error, user } = userDetails;\r\n\r\n\tconst userUpdate = useSelector((state) => state.userUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = userUpdate;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: USER_UPDATE_RESET });\r\n\t\t\thistory.push('/admin/userlist');\r\n\t\t} else {\r\n\t\t\tif (!user.name || user._id !== userId) {\r\n\t\t\t\t// We don't have the user, get the user\r\n\t\t\t\tdispatch(getUserDetails(userId));\r\n\t\t\t} else {\r\n\t\t\t\t// We  have the user\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t\tsetIsAdmin(user.isAdmin);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, history, user, userId, successUpdate]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(updateUser({ _id: userId, name, email, isAdmin }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/userlist' className='btn btn-light my-3'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit User</h1>\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && (\r\n\t\t\t\t\t<Message variant='danger'>{errorUpdate}</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId='isadmin'>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\tlabel='Is Admin'\r\n\t\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setIsAdmin(e.target.checked)}\r\n\t\t\t\t\t\t\t></Form.Check>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default UserEditScreen;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport Paginate from '../components/Paginate';\r\n\r\nimport {\r\n\tlistProducts,\r\n\tdeleteProduct,\r\n\tcreateProduct,\r\n} from '../actions/productActions';\r\n\r\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants';\r\n\r\nconst ProductListScreen = ({ history, match }) => {\r\n\tconst pageNumber = match.params.pageNumber || 1;\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productList = useSelector((state) => state.productList);\r\n\tconst { loading, error, products, pages, page } = productList;\r\n\r\n\tconst productDelete = useSelector((state) => state.productDelete);\r\n\tconst {\r\n\t\tloading: loadingDelete,\r\n\t\terror: errorDelete,\r\n\t\tsuccess: successDelete,\r\n\t} = productDelete;\r\n\r\n\tconst productCreate = useSelector((state) => state.productCreate);\r\n\tconst {\r\n\t\tloading: loadingCreate,\r\n\t\terror: errorCreate,\r\n\t\tsuccess: successCreate,\r\n\t\tproduct: createdProduct,\r\n\t} = productCreate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({ type: PRODUCT_CREATE_RESET });\r\n\t\tif (!userInfo.isAdmin) {\r\n\t\t\thistory.push('/login');\r\n\t\t}\r\n\r\n\t\tif (successCreate) {\r\n\t\t\thistory.push(`/admin/product/${createdProduct._id}/edit`);\r\n\t\t} else {\r\n\t\t\tdispatch(listProducts('', pageNumber));\r\n\t\t}\r\n\t}, [\r\n\t\tdispatch,\r\n\t\thistory,\r\n\t\tuserInfo,\r\n\t\tsuccessDelete,\r\n\t\tsuccessCreate,\r\n\t\tcreatedProduct,\r\n\t\tpageNumber,\r\n\t]);\r\n\r\n\tconst deleteHandler = (id) => {\r\n\t\tif (window.confirm('Are you sure ?')) {\r\n\t\t\tdispatch(deleteProduct(id));\r\n\t\t}\r\n\t};\r\n\r\n\tconst createProductHandler = () => {\r\n\t\tdispatch(createProduct());\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row className='align-items-center'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col className='text-right'>\r\n\t\t\t\t\t<Button className='my-3' onClick={createProductHandler}>\r\n\t\t\t\t\t\t<i className='fas fa-plus'></i> Create Product\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{loadingDelete && <Loader />}\r\n\t\t\t{errorDelete && <Message variant='danger'>{errorDelete}</Message>}\r\n\r\n\t\t\t{loadingCreate && <Loader />}\r\n\t\t\t{errorCreate && <Message variant='danger'>{errorCreate}</Message>}\r\n\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstriped\r\n\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\thover\r\n\t\t\t\t\t\tresponsive\r\n\t\t\t\t\t\tclassName='table-sm'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t\t<th>PRICE</th>\r\n\t\t\t\t\t\t\t\t<th>CATEGORY</th>\r\n\t\t\t\t\t\t\t\t<th>BRAND</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{products.map((product) => (\r\n\t\t\t\t\t\t\t\t<tr key={product._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{product._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>${product.price}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.category}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.brand}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/admin/product/${product._id}/edit`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='light'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteHandler(product._id)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Paginate pages={pages} page={page} isAdmin={true} />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductListScreen;\r\n","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { listProductDetails, updateProduct } from '../actions/productActions';\r\nimport {\r\n\tPRODUCT_UPDATE_RESET,\r\n\tPRODUCT_DETAILS_RESET,\r\n} from '../constants/productConstants';\r\n\r\nfunction ProductEditScreen({ match, history }) {\r\n\tconst productId = match.params.id;\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [price, setPrice] = useState(0);\r\n\tconst [image, setImage] = useState('');\r\n\tconst [brand, setBrand] = useState('');\r\n\tconst [category, setCategory] = useState('');\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [countInStock, setCountInStock] = useState(0);\r\n\tconst [uploading, setUploading] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, error, product } = productDetails;\r\n\r\n\tconst productUpdate = useSelector((state) => state.productUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = productUpdate;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: PRODUCT_UPDATE_RESET });\r\n\t\t\thistory.push('/admin/productList');\r\n\t\t} else {\r\n\t\t\tif (!product.name || product._id !== productId) {\r\n\t\t\t\t// We don't have the user, get the user\r\n\t\t\t\tdispatch(listProductDetails(productId));\r\n\t\t\t} else {\r\n\t\t\t\t// We  have the product\r\n\t\t\t\tsetName(product.name);\r\n\t\t\t\tsetPrice(product.price);\r\n\t\t\t\tsetImage(product.image);\r\n\t\t\t\tsetBrand(product.brand);\r\n\t\t\t\tsetCategory(product.category);\r\n\t\t\t\tsetCountInStock(product.countInStock);\r\n\t\t\t\tsetDescription(product.description);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, history, product, productId, successUpdate]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tupdateProduct({\r\n\t\t\t\t_id: productId,\r\n\t\t\t\tname,\r\n\t\t\t\tprice,\r\n\t\t\t\timage,\r\n\t\t\t\tbrand,\r\n\t\t\t\tcategory,\r\n\t\t\t\tcountInStock,\r\n\t\t\t\tdescription,\r\n\t\t\t})\r\n\t\t);\r\n\t\tdispatch({ type: PRODUCT_DETAILS_RESET });\r\n\t};\r\n\tconst uploadFileHandler = async (e) => {\r\n\t\t// single file, first element only\r\n\t\tconst file = e.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', file);\r\n\t\tsetUploading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config);\r\n\t\t\tsetImage(data);\r\n\t\t\tsetUploading(false);\r\n\t\t} catch (err) {\r\n\t\t\tsetUploading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t\r\n\r\n\t*/\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/productlist' className='btn btn-light my-3'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit Product</h1>\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && (\r\n\t\t\t\t\t<Message variant='danger'>{errorUpdate}</Message>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId='price'>\r\n\t\t\t\t\t\t\t<Form.Label>Price</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter price'\r\n\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setPrice(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId='image'>\r\n\t\t\t\t\t\t\t<Form.Label>Image</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter image URL'\r\n\t\t\t\t\t\t\t\tvalue={image}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setImage(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t<Form.File\r\n\t\t\t\t\t\t\t\tid='image-file'\r\n\t\t\t\t\t\t\t\tlabel='Choose file'\r\n\t\t\t\t\t\t\t\tcustom\r\n\t\t\t\t\t\t\t\tonChange={uploadFileHandler}\r\n\t\t\t\t\t\t\t></Form.File>\r\n\r\n\t\t\t\t\t\t\t{uploading && <Loader />}\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId='brand'>\r\n\t\t\t\t\t\t\t<Form.Label>Brand</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter brand'\r\n\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setBrand(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId='category'>\r\n\t\t\t\t\t\t\t<Form.Label>Category</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter category'\r\n\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setCategory(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId='countInStock'>\r\n\t\t\t\t\t\t\t<Form.Label>Count In Stock</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter count in stack'\r\n\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\tsetCountInStock(e.target.value)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId='description'>\r\n\t\t\t\t\t\t\t<Form.Label>Description</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter description'\r\n\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ProductEditScreen;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { listOrders } from '../actions/orderActions';\r\n//import { orderListReducer } from '../reducers/orderReducers';\r\n\r\nconst OrderListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst orderList = useSelector((state) => state.orderList);\r\n\tconst { loading, error, orders } = orderList;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(listOrders());\r\n\t\t} else {\r\n\t\t\t// Maybe wrong: was /login\r\n\t\t\thistory.push('/login');\r\n\t\t}\r\n\t}, [dispatch, history, userInfo]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Orders</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>USER</th>\r\n\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{orders.map((order) => (\r\n\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{order.user && order.user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t<td>${order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\r\n\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\r\n\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='light'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tDetails{' '}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OrderListScreen;\r\n","import React from 'react';\nimport './i18n';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Container } from 'react-bootstrap';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport HomeScreen from './screens/HomeScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport CartScreen from './screens/CartScreen';\nimport LoginScreen from './screens/LoginScreen';\nimport RegisterScreen from './screens/RegisterScreen';\nimport ProfileScreen from './screens/ProfileScreen';\nimport ShippingScreen from './screens/ShippingScreen';\nimport PaymentScreen from './screens/PaymentScreen';\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\nimport OrderScreen from './screens/OrderScreen';\nimport UserListScreen from './screens/UserListScreen';\nimport UserEditScreen from './screens/UserEditScreen';\nimport ProductListScreen from './screens/ProductListScreen';\nimport ProductEditScreen from './screens/ProductEditScreen';\nimport OrderListScreen from './screens/OrderListScreen';\n\nconst App = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Header />\n\t\t\t<main className='py-3'>\n\t\t\t\t<Container>\n\t\t\t\t\t<Route path='/order/:id' component={OrderScreen} />\n\t\t\t\t\t<Route path='/shipping' component={ShippingScreen} />\n\t\t\t\t\t<Route path='/payment' component={PaymentScreen} />\n\t\t\t\t\t<Route path='/placeorder' component={PlaceOrderScreen} />\n\t\t\t\t\t<Route path='/login' component={LoginScreen} />\n\t\t\t\t\t<Route path='/register' component={RegisterScreen} />\n\t\t\t\t\t<Route path='/profile' component={ProfileScreen} />\n\t\t\t\t\t<Route path='/product/:id' component={ProductScreen} />\n\t\t\t\t\t<Route path='/cart/:id?' component={CartScreen} />\n\n\t\t\t\t\t<Route path='/admin/userlist' component={UserListScreen} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/productlist'\n\t\t\t\t\t\tcomponent={ProductListScreen}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/productlist/:pageNumber'\n\t\t\t\t\t\tcomponent={ProductListScreen}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/user/:id/edit'\n\t\t\t\t\t\tcomponent={UserEditScreen}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/product/:id/edit'\n\t\t\t\t\t\tcomponent={ProductEditScreen}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/orderlist'\n\t\t\t\t\t\tcomponent={OrderListScreen}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/search/:keyword'\n\t\t\t\t\t\tcomponent={HomeScreen}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/search/:keyword/page/:pageNumber'\n\t\t\t\t\t\tcomponent={HomeScreen}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/page/:pageNumber'\n\t\t\t\t\t\tcomponent={HomeScreen}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path='/' component={HomeScreen} exact />\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t\t<Footer />\n\t\t</Router>\n\t);\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './i18n';\n\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}